{"version":3,"file":"bundle.1a7e5325215eed26.js","mappings":"MAGsD,MAAlDA,SAASC,eAAe,yBACxBD,SAASE,KAAKC,WAAc,0CAAyCC,OAAOC,qBAAqBD,OAAOE,YAAc,gBAK1H,IAIIC,EACAC,EAEAC,EACAC,EACAC,EAGAC,EACAC,EAbAC,EAAM,GACNC,EAASf,SAASC,eAAe,uBACjCe,EAAMD,EAAOE,WAAW,MAQxBC,GAJcC,YAAYC,EAAO,EAAEN,EAAI,KAIrB,MAIlBO,EA8FJ,WACI,IACI,OAAOjB,OAAOkB,aAAaC,QAAQ,aAAcV,IAAU,CACjD,CAAZ,MAAOW,GAAK,CAEd,OAAO,CACV,CApGeC,GAChB,IAAIC,EAAa,EACjB,IAAIC,EAGAC,EACAC,EAEAC,EALAC,EAAW,GACXC,EAAmB,GAGnBC,GAAmB,EAEnBC,GAAQ,EACRC,GAAqB,EACrBC,GAAoB,EACxB,IAAIC,GAAY,EACZC,EAActC,SAASC,eAAe,WACtCsC,EAAiBvC,SAASC,eAAe,YACzCuC,EAAaxC,SAASC,eAAe,QACrCwC,EAAoBzC,SAAS0C,cAAc,sBAM/C,SAASC,EAAMC,GACE,UAARA,GAEDC,OAAOC,cAGPjC,EAAQQ,GA6DhB,SAAsBR,GAClBT,OAAOkB,aAAayB,QAAQ,aAAclC,GAC1CQ,EAAYR,CACf,CAhE0BmC,CAAanC,GACpCN,GAAQ,EACRC,EAAa,EAEbI,EAAa,EACbC,EAAQ,EACRF,EAAY,KACZgB,GAAW,EACXU,GAAY,EACZR,EAAQ,EACRE,EAAW,GACXC,EAAmB,GACnBJ,EAAS,KACTK,GAAmB,EACnBC,GAAQ,EACRe,GACH,CAGD,SAASA,IACLC,cAAczC,GACdyC,cAAcxC,GACdwC,cAAcpB,EACjB,CAGD,SAASqB,IACL1C,EAAkBU,YAAYiC,GAA4BxC,EAAa,IAAM,GAA5B,KACjDF,EAAaS,YAAYkC,EAAW1C,EACvC,CA8CD,SAAS2C,IACLtC,EAAIuC,UAnHM,gBAoHVvC,EAAIwC,SAAS,EAAE,EAAEzC,EAAO0C,MAAM1C,EAAO2C,OACxC,CAGD,SAASC,IACL3C,EAAIuC,UAAY,UAChBvC,EAAI4C,KAAO,kBACX5C,EAAI6C,SAAS,UAAYhD,EAAM,GAAG,IAClCG,EAAI4C,KAAO,kBACX5C,EAAI6C,SAAS,eAAiBxC,EAAU,GAAG,IAE3C,IADA,IAAIyC,EAAmB,GACdC,EAAI,EAAGA,EAAIvD,EAAYuD,IAC5BD,GAAoB,IAExB9C,EAAI4C,KAAO,kBACX5C,EAAIuC,UAAY,UAChBvC,EAAI6C,SAASC,EAAiB/C,EAAO0C,MAAQ,GAAG,IAChDzC,EAAI4C,KAAO,kBACX5C,EAAI6C,SAAS,eAAiBjD,EAAWG,EAAO0C,MAAM,EAAI,GAAG,GAChE,CAID,SAASO,EAAWC,GAEhB,IADA,IACSC,EAAI,EAAGA,EAAInD,EAAO0C,MAAOS,GAD1B,GAEJ,IAAK,IAAIC,EAAI,EAAGA,EAAIpD,EAAO0C,MAAOU,GAF9B,GAEmC,CACnC,IAAIC,EAAIC,KAAKC,MAAsB,GAAhBD,KAAKE,UACxBvD,EAAIuC,UAAY,QAAUa,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAOC,KAAKE,SAAWN,EAAS,IAClFjD,EAAIwC,SAASU,EAAEC,EALf,MAMH,CAER,CAyBD,SAASK,IACLxD,EAAIuC,UAAY,cAAc1B,EAAO,IACrCb,EAAIwC,SAAS,EAAE,EAAEzC,EAAO0C,MAAM1C,EAAO2C,QACrCM,EAAWnC,EAAM,GACjB8B,IACA9B,GAAS,GAAOf,EAChBE,EAAIuC,UAAY,oBAAsB1B,EAAQ,IAC9Cb,EAAI4C,KAAO,kBACX5C,EAAI6C,SAAS,YAAY9C,EAAO0C,MAAQ,EAAI,IAAI1C,EAAO2C,OAAS,GAEhEe,QAAQC,IAAI,QAEZ7B,OAAOlB,SAAUd,GACjByB,EAAYqC,MAAMC,QAAU,OAC/B,CAWD,SAASxD,IAaL,GAZAkC,IA9BAvB,EAAS8C,SAAQ,SAASrD,GAAGA,EAAEJ,QAAU,IAgCzCuC,IACKzB,IA6ELL,GAAU,GAAOf,EACjBE,EAAIuC,UAAY,oBAAsB1B,EAAQ,IAC9Cb,EAAIwC,SAAS,EAAE,EAAEzC,EAAO0C,MAAM1C,EAAO2C,QACjC7B,GAAS,IACTK,GAAQ,IA9EPC,IAgHLN,GAAU,GAAOf,EACjBE,EAAIuC,UAAY,oBAAsB1B,EAAQ,IAC9Cb,EAAI4C,KAAO,kBACX5C,EAAI6C,SAAS,eAAe9C,EAAO0C,MAAM,EAAI,IAAI1C,EAAO2C,OAAO,GAC3D7B,GAAS,IACTM,GAAqB,IAlHpBC,GACD0C,IAECnD,EACIU,GA4ET7B,EAAa,EACbQ,EAAIuC,UAAY,cAAgB1B,EAAQ,IACxCb,EAAIwC,SAAS,EAAE,EAAEzC,EAAO0C,MAAM1C,EAAO2C,QACrCM,EAAWnC,EAAM,GACjB8B,IACA9B,GAAS,GAAOf,EAChBE,EAAIuC,UAAY,oBAAsB1B,EAAQ,IAC9Cb,EAAI4C,KAAO,kBACX5C,EAAI6C,SAAS,yBAAyB9C,EAAO0C,MAAQ,EAAI,IAAI1C,EAAO2C,OAAS,GAExExC,IACDA,EAAkB6D,WAAWC,EAAY,OAG7CvC,EAAkBkC,MAAMC,QAAU,QAvF1BJ,QAJR,CAQK,GAAKjE,EAEN,OArEJ+C,IAEAK,IACA9B,GAAS,GAAOf,EAChBE,EAAIuC,UAAY,oBAAsB1B,EAAQ,IAC9Cb,EAAI4C,KAAO,kBACX5C,EAAI6C,SAAS,SAAS9C,EAAO0C,MAAQ,EAAI,IAAI1C,EAAO2C,OAAS,GAC7D1C,EAAIuC,UAAY,wBAChBvC,EAAI4C,KAAO,kBACX5C,EAAI6C,SAAS,wBAAwB9C,EAAO0C,MAAQ,EAAI,IAAI,GAAK1C,EAAO2C,OAAS,GACjF1C,EAAI4C,KAAO,kBACX5C,EAAI6C,SAAS,iBAAiB9C,EAAO0C,MAAQ,EAAI,IAAI,IAAM1C,EAAO2C,OAAS,QAC3EC,IA3EA5B,EAAS8C,SAAQ,SAASrD,GAClBA,EAAEyD,SAASd,EAAIpD,EAAO2C,OAAS,KACjB,SAAVlC,EAAE0D,OACF1E,GAAc,GAElB2E,EAAa3D,IAEjBA,EAAE4D,OAAO,EAAEtE,EACd,IAgIDkB,EAAiB6C,SAAQ,SAASrD,GAC9B,IAAI6D,EAAMtD,EAASuD,QAAQ9D,GACvB6D,GAAO,GAAGtD,EAASwD,OAAOF,EAAI,EACrC,IAEG7E,GAAc,IACdyC,IACAtB,GAAW,EACXE,EAAQ,EAXX,CAaJ,CAkCD,SAAS2D,EAAWC,EAAOC,GACvB,IAAIC,EAAS,IAAIC,GACjBD,EAAOV,SAASY,IAAIjE,EAAOqD,SAASf,EAAItC,EAAOkE,KAAK,EAAIH,EAAOG,KAAK,EAAIL,EAAOvB,EAC3EtC,EAAOqD,SAASd,EAAIvC,EAAOkE,KAAK,EAAIH,EAAOG,KAAK,EAAIL,EAAOtB,GAC/DwB,EAAOI,SAAS5B,GAAKuB,EACrB3D,EAASiE,KAAKL,EACjB,CA8BD,SAASX,IACLiB,aAAa/E,GAEbA,EAAkB,KAElBuB,EAAkBkC,MAAMC,QAAU,OAClCvC,GAAY,EACZmC,GACH,CAcD,SAASM,EAAsBoB,EAAO,KAClCrE,GAAU,GAAOf,EACjBE,EAAIuC,UAAY,oBAAsB1B,EAAQ,IAC9Cb,EAAI4C,KAAO,kBACX5C,EAAI6C,SAAS,cAAgBqC,EAAKnF,EAAO0C,MAAM,EAAI,IAAI1C,EAAO2C,OAAO,GACjE7B,GAAS,IACTO,GAAoB,EAE3B,CAiCD,SAASgB,IAEDzC,EAAY,KAAIA,GAAa,KADjCC,GAAc,GAEG,GAAK,GAAKyD,KAAKE,SAAW,IA0E/C,WACI,IAAI/C,EAAI,IAAI2E,GACRC,EAAK/B,KAAKC,MAAOD,KAAKE,SAAWxD,EAAO0C,OACxC4C,GAAM7E,EAAEsE,KACRQ,EAAKjC,KAAKE,SAAW3D,EAAcA,EAAa,EAChD2F,EAAIlC,KAAKC,MAAOD,KAAKE,UAAY+B,EAAI,IAAOA,GAAK,EACjDE,EAAInC,KAAKC,MAAOD,KAAKE,UAAY+B,EAAI,IAAOA,GAAK,EACrD9E,EAAEyD,SAASY,IAAIO,EAAGC,GAClB,IAAII,EAAIpC,KAAKE,SACTkC,EAAI,GACJC,EAAmBlF,EAAE8E,GAEhBG,EAAI,GACTE,EAAWnF,EAAE+E,EAAEC,EAAEF,GAEZG,EAAI,GACTG,EAAiBpF,EAAE+E,EAAEC,EAAEF,GAGvBO,EAAerF,EAAE+E,EAAEC,EAAEF,GAEzBvE,EAASiE,KAAKxE,EACjB,CAhGkDsF,GAC/C5D,cAAcxC,GACdA,EAAaS,YAAYkC,EAAW1C,EACvC,CAGD,SAASoG,EAASC,EAAM/C,GACpB,IAA2B,GAAvB+C,EAAM1B,QAAQ,KACd,OAAO0B,EAAMC,QAAQ,IAAI,IAAIhD,EAAM,KAAKgD,QAAQ,MAAM,OAE7D,CAGD,SAASC,EAAMC,GACX,GAAmB,SAAfA,EAAOjC,KAAiB,CAExB,IADA,IAAIkC,EAAgB/C,KAAKC,MAAuB,EAAhBD,KAAKE,SAAgB,GAC5CR,EAAI,EAAGA,EAAIqD,EAAerD,IAAI,EAC/BsD,EAAI,IAAIC,GACVN,MAAQG,EAAOH,MACjBK,EAAEvB,KAAOzB,KAAKC,MAAOD,KAAKE,SAAW4C,EAAOrB,KAAK,EAAK,GAEtD,IAAIyB,EAAQlD,KAAKE,SAAW4C,EAAOrB,KAAK,EACpC0B,EAAQnD,KAAKE,SAAW4C,EAAOrB,KAAK,EACxCuB,EAAEpC,SAASf,EAAIiD,EAAOlC,SAASf,EAAIqD,EACnCF,EAAEpC,SAASd,EAAIgD,EAAOlC,SAASd,EAAIqD,EACnCzF,EAASiE,KAAKqB,EACjB,CACDxG,GAAS,EACZ,MACI,GAAmB,WAAfsG,EAAOjC,KAAkB,CAE9B,IADIkC,EAAgB/C,KAAKC,MAAuB,EAAhBD,KAAKE,SAAgB,GAC5CR,EAAI,EAAGA,EAAIqD,EAAerD,IAAI,CACnC,IAAIsD,KAAI,IAAIC,GACVN,MAAQS,EAAY,IAAI,KAC1BJ,EAAEvB,KAAOzB,KAAKC,MAAOD,KAAKE,SAAW4C,EAAOrB,KAAK,EAAK,GAElDyB,EAAQlD,KAAKE,SAAW4C,EAAOrB,KAAK,EACpC0B,EAAQnD,KAAKE,SAAW4C,EAAOrB,KAAK,EACxCuB,EAAEpC,SAASf,EAAIiD,EAAOlC,SAASf,EAAIqD,EACnCF,EAAEpC,SAASd,EAAIgD,EAAOlC,SAASd,EAAIqD,EACnCzF,EAASiE,KAAKqB,EACjB,CAzEO,eADQK,EA2EDP,EAAOQ,SAzEtBlD,QAAQC,IAAI,QACZ7C,EAAQ,EACRM,GAAmB,EACnBtB,GAAS,KAEI,cAAR6G,GAAwB7G,EAAQ,KACrC4D,QAAQC,IAAI,eACZ7C,EAAQ,EACRI,GAAmB,EACnBG,GAAoB,EACpBN,EAAkBX,aAAY,WAC1Bc,GAAiB,EACjBiB,cAAcpB,EACjB,GAAC,MAEW,QAAR4F,IACLjD,QAAQC,IAAI,QACZxC,GAAQ,EACRL,EAAQ,EACRE,EAAS8C,SAAQ,SAASrD,GACR,SAAVA,EAAE0D,MACFgC,EAAM1F,EAEb,IAmDJ,CA5EL,IAAwBkG,EA8EpBvC,EAAagC,EAChB,CAGD,SAAShC,EAAagC,GAClBnF,EAAiBgE,KAAKmB,EAKzB,CA4CD,SAAS9D,IACL,IAAI7B,EAAI,IAAIoG,EACRxB,EAAK/B,KAAKC,MAAOD,KAAKE,SAAWxD,EAAO0C,OACxC4C,GAAM7E,EAAEsE,KAERQ,EAAKjC,KAAKE,SAAW3D,EAAcA,EAAa,EAChD2F,EAAIlC,KAAKC,MAAOD,KAAKE,UAAY+B,EAAI,IAAOA,GAC5CE,EAAInC,KAAKC,MAAOD,KAAKE,UAAY+B,EAAI,IAAOA,GAChD9E,EAAEyD,SAASY,IAAIO,EAAGC,GAClB,IAAII,EAAIpC,KAAKE,SACTkC,EAAI,GACJC,EAAmBlF,EAAE8E,GAEhBG,EAAI,GACTE,EAAWnF,EAAE+E,EAAEC,EAAEF,GAEZG,EAAI,GACTG,EAAiBpF,EAAE+E,EAAEC,EAAEF,GAGvBO,EAAerF,EAAE+E,EAAEC,EAAEF,GAEzBvE,EAASiE,KAAKxE,EACjB,CAGD,SAASkF,EAAmBS,EAAOzB,GAC/ByB,EAAO/B,OAAS,SAASyC,GACrBC,KAAK/B,SAAS7B,EAAI,EAClB4D,KAAK/B,SAAS5B,EAAIuB,EAClBqC,EAAOC,UAAU5C,OAAO6C,KAAKH,KAAKD,EACrC,CACJ,CAGD,SAASlB,EAAWQ,EAAOe,EAAUC,EAAKzC,GACtCyB,EAAO/B,OAAS,SAASyC,GACrBC,KAAK/B,SAAS7B,EAAIgE,EAAY7D,KAAK+D,IAAIN,KAAK7C,SAASd,EAAEgE,GACvDL,KAAK/B,SAAS5B,EAAIuB,EAClBqC,EAAOC,UAAU5C,OAAO6C,KAAKH,KAAKD,EACrC,CACJ,CAGD,SAAShB,EAAeM,EAAQe,EAAUC,EAAKzC,GAC3C,IAAI2C,EAAW,EACXhE,KAAKE,SAAW,KAAI8D,GAAY,GACpClB,EAAO/B,OAAS,SAASyC,GACrBC,KAAK/B,SAAS7B,EAAImE,IAAc,EAAEH,EAAW7D,KAAKiE,IAAIjE,KAAKkE,KAAK,EAAElE,KAAKmE,IAAIV,KAAK7C,SAASd,EAAIgE,IAC7FL,KAAK/B,SAAS5B,EAAIuB,EAClBqC,EAAOC,UAAU5C,OAAO6C,KAAKH,KAAKD,EACrC,CACJ,CAGD,SAASjB,EAAiBO,EAAQe,EAAUC,EAAKzC,GAC7CyB,EAAO/B,OAAS,SAASyC,GACrBC,KAAK/B,SAAS7B,EAAM,EAAEgE,EAAW7D,KAAKiE,GAAIjE,KAAKoE,KAAKpE,KAAKqE,IAAIZ,KAAK7C,SAASd,EAAIgE,IAC/EL,KAAK/B,SAAS5B,EAAIuB,EAClBqC,EAAOC,UAAU5C,OAAO6C,KAAKH,KAAKD,EACrC,CACJ,CAGD,SAASJ,EAAYkB,EAAIC,GAKrB,MADU,OAHFvE,KAAKC,MAAOD,KAAKE,SAAWqE,EAAOD,GAGpB,IAFftE,KAAKC,MAAOD,KAAKE,SAAWqE,EAAOD,GAEV,IADzBtE,KAAKC,MAAOD,KAAKE,SAAWqE,EAAOD,GACA,GAE9C,CAMD,IAAIE,EAAU,SAASC,EAAGC,GACtBjB,KAAK5D,EAAI4E,EACThB,KAAK3D,EAAI4E,CACZ,EACDF,EAAQb,UAAUnC,IAAM,SAASU,EAAEyC,GAC/BlB,KAAK5D,EAAIqC,EACTuB,KAAK3D,EAAI6E,CACZ,EAGD,IAAIjB,EAAS,WACTD,KAAK5C,KAAO,SACZ4C,KAAKhC,KAAO,GACZgC,KAAK7C,SAAW,IAAI4D,EAAQ,EAAE,GAC9Bf,KAAK/B,SAAW,IAAI8C,EAAQ,EAAE,GAC9Bf,KAAKd,MAAQ,SAChB,EACDe,EAAOC,UAAUiB,QAAU,WACvBxE,QAAQC,IAAIoD,KAAK5C,KACpB,EACD6C,EAAOC,UAAU5C,OAAS,SAAS8D,GAC/BpB,KAAK7C,SAASf,GAAK4D,KAAK/B,SAAS7B,EAAIgF,EACrCpB,KAAK7C,SAASd,GAAK2D,KAAK/B,SAAS5B,EAAI+E,EAEjCpB,KAAK7C,SAASf,EAAI,IAAI4D,KAAK7C,SAASf,EAAI4D,KAAKhC,MAC7CgC,KAAK7C,SAASf,EAAI4D,KAAKhC,KAAO/E,EAAO0C,QAAQqE,KAAK7C,SAASf,EAAInD,EAAO0C,MAAQqE,KAAKhC,KAC1F,EACDiC,EAAOC,UAAU5G,OAAS,WACtBJ,EAAIuC,UAAYuE,KAAKd,MACrBhG,EAAIwC,SAASsE,KAAK7C,SAASf,EAAE4D,KAAK7C,SAASd,EAAE2D,KAAKhC,KAAKgC,KAAKhC,KAC/D,EAGD,IAAI8B,EAAQ,WACRG,EAAOE,KAAKH,MACZA,KAAK5C,KAAO,QACZ4C,KAAKhC,KAAOzB,KAAKC,MAAuB,GAAhBD,KAAKE,SAAe,IAC5CuD,KAAKd,MAAQS,EAAY,GAAG,IAC/B,EACDG,EAAMI,UAAYmB,OAAOC,OAAOrB,EAAOC,WACvCJ,EAAMI,UAAUqB,YAActB,EAE9B,IAAIuB,EAAS,WACTvB,EAAOE,KAAKH,MACZA,KAAK5C,KAAO,SACZ4C,KAAKd,MAAQ,SAChB,GACDsC,EAAOtB,UAAYmB,OAAOC,OAAOrB,EAAOC,YACvBqB,YAActB,EAG/B,IAAIT,EAAW,WACXS,EAAOE,KAAKH,MACZA,KAAK5C,KAAO,WACZ4C,KAAKhC,KAAO,GACZgC,KAAKyB,KAAO,EACZzB,KAAK0B,QAAUnF,KAAKC,MAAuB,GAAhBD,KAAKE,SAAiB,GACjDuD,KAAK/B,SAAS7B,EAAIG,KAAKC,MAAuB,GAAhBD,KAAKE,SAAiB,IACpDuD,KAAK/B,SAAS5B,EAAIE,KAAKC,MAAuB,GAAhBD,KAAKE,SAAiB,GACvD,EACD+C,EAASU,UAAYmB,OAAOC,OAAOrB,EAAOC,WAC1CV,EAASU,UAAUqB,YAActB,EACjCT,EAASU,UAAU5C,OAAS,SAASyC,GACjCE,EAAOC,UAAU5C,OAAO6C,KAAKH,KAAKD,GAClCC,KAAKyB,MAAQ1B,EACTC,KAAKyB,MAAQzB,KAAK0B,SAASrE,EAAa2C,KAC/C,EAGD,IAAIlC,GAAS,WACTmC,EAAOE,KAAKH,MACZA,KAAK5C,KAAO,SACZ4C,KAAKhC,KAAO,GACZgC,KAAKyB,KAAO,EACZzB,KAAKd,MAAQ,sBACbc,KAAK2B,eAAiB,EACzB,EACD7D,GAAOoC,UAAYmB,OAAOC,OAAOrB,EAAOC,WACxCpC,GAAOoC,UAAUqB,YAActB,EAC/BnC,GAAOoC,UAAU5C,OAAS,SAASyC,GAC/BE,EAAOC,UAAU5C,OAAO6C,KAAKH,KAAKD,GAGlC,IAAI6B,EAAK5B,KAcT,GAbA/F,EAAS8C,SAAQ,SAASrD,GAzM9B,IAAkBmI,EAAQC,EAClBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAgMI9I,IAAMkI,GAAgB,YAAVlI,EAAE0D,OA1MA0E,EA2MEpI,EA1MpBqI,GADUF,EA2MOD,GA1MJ5D,KACbgE,EAAMH,EAAQ1E,SAASf,EACvB6F,EAAMJ,EAAQ1E,SAASf,EAAI2F,EAC3BG,EAAML,EAAQ1E,SAASd,EACvB8F,EAAMN,EAAQ1E,SAASd,EAAI0F,EAC3BK,EAAKN,EAAQ9D,KACbqE,EAAMP,EAAQ3E,SAASf,EACvBkG,EAAMR,EAAQ3E,SAASf,EAAIgG,EAC3BG,EAAMT,EAAQ3E,SAASd,EACvBmG,EAAMV,EAAQ3E,SAASd,EAAI+F,EAEvBJ,EAAMM,GAAOL,EAAMI,GAAOH,EAAMM,GAAOL,EAAMI,IAgMzCnD,EAAM1F,GACN2D,EAAauE,IAGxB,IAEG5B,KAAK7C,SAASd,EAAI,GAAGgB,EAAa2C,MAGtCA,KAAKyB,MAAQ1B,EACTC,KAAKyB,MAAQzB,KAAK2B,eAAe,CACjC3B,KAAKyB,KAAO,EACZ,IAAIlC,EAAI,IAAIC,EACZD,EAAEvB,KAAOzB,KAAKC,MAAuB,EAAhBD,KAAKE,SAAc,GACxC8C,EAAEL,MAAQD,EAAS,mBAAmB1C,KAAKE,UAE3C8C,EAAEtB,SAAS7B,GAAI,EACfmD,EAAEpC,SAASf,EAAI4D,KAAK7C,SAASf,EAAI4D,KAAKhC,KAAM,EAAIuB,EAAEvB,KAAK,EACvDuB,EAAEpC,SAASd,EAAI2D,KAAK7C,SAASd,EAAIkD,EAAEvB,KAAK,EACxC/D,EAASiE,KAAKqB,EACjB,CACJ,EAGD,IAAIlB,GAAU,WACV4B,EAAOE,KAAKH,MACZA,KAAK5C,KAAO,UACZ4C,KAAKhC,KAAO,GACZgC,KAAKyB,KAAO,EACZzB,KAAK2B,eAAiB,IACtB,IAAIhD,EAAIpC,KAAKE,SACDuD,KAAKH,OAAblB,EAAI,GAAkB,aACjBA,EAAI,IAAmB,aACZ,MAEvB,EA6DD,SAAS8D,GAAkBC,GACvB,IAAIC,EAAUzK,SAAS0K,cAAc,OACrCD,EAAQE,UAAUC,IAAI,WACtBH,EAAQtK,UAAY,IACpBH,SAASE,KAAK2K,OAAOJ,GAErB,IAAIK,EAAsB3J,aAAY,MAC7BsJ,EAAQtK,UAAY,EACrBsK,EAAQtK,UAAY4K,QAAQN,EAAQtK,UAAY,IAEhD+C,cAAc4H,GACdL,EAAQE,UAAUK,OAAO,WACzBR,IACH,GACF,IACN,CA3EDrE,GAAQ6B,UAAYmB,OAAOC,OAAOrB,EAAOC,WACzC7B,GAAQ6B,UAAUqB,YAActB,EAChC5B,GAAQ6B,UAAU5C,OAAS,SAASyC,GAQhC,GAPAE,EAAOC,UAAU5C,OAAO6C,KAAKH,KAAKD,IAG9BC,KAAK7C,SAASd,EAAI,GAAK2D,KAAK7C,SAASd,EAAE2D,KAAKhC,KAAO/E,EAAO2C,SAAQyB,EAAa2C,MAGnFA,KAAKyB,MAAQ1B,EACTC,KAAKyB,MAAQzB,KAAK2B,eAAe,CACjC3B,KAAKyB,KAAO,EACZ,IAAIlC,EAAI,IAAIC,EACZD,EAAEvB,KAAOzB,KAAKC,MAAuB,EAAhBD,KAAKE,SAAc,GACxC8C,EAAEL,MAAQD,EAASU,EAAY,IAAI,KAAKpD,KAAKE,UAC7C8C,EAAEtB,SAAS7B,GAAI,EACfmD,EAAEpC,SAASf,EAAI4D,KAAK7C,SAASf,EAAI4D,KAAKhC,KAAM,EAAIuB,EAAEvB,KAAK,EACvDuB,EAAEpC,SAASd,EAAI2D,KAAK7C,SAASd,EAAIkD,EAAEvB,KAAK,EACxC/D,EAASiE,KAAKqB,EACjB,CACJ,EACDlB,GAAQ6B,UAAU5G,OAAS,WACvBJ,EAAIuC,UAAYkE,EAAY,IAAI,KAChCzG,EAAIwC,SAASsE,KAAK7C,SAASf,EAAE4D,KAAK7C,SAASd,EAAE2D,KAAKhC,KAAKgC,KAAKhC,KAC/D,EAOD9F,SAASiL,iBAAiB,mBAAoBtI,EAAM,SAYpD5B,EAAOkK,iBAAiB,SAndxB,WAII,GAAI1K,EAEA,OAlLJsC,OAAOC,cAEPvC,GAAQ,EACR0C,IACAE,KAGAvB,EAAS,IAAI0H,GACNrE,SAASY,IAAI9E,EAAO0C,MAAQ,EAAE1C,EAAO2C,OAAO9B,EAAOkE,MAC1DlE,EAAOR,cACPW,EAASiE,KAAKpE,GA4Kd4D,EAAW,CAACtB,EAAE,EAAEC,GAAGvC,EAAOkE,MAAM,IAC5B7D,IACAuD,EAAW,CAACtB,GAAGtC,EAAOkE,KAAK3B,GAAGvC,EAAOkE,MAAM,IAC3CN,EAAW,CAACtB,EAAEtC,EAAOkE,KAAK3B,GAAGvC,EAAOkE,MAAM,KAE1CjF,EAAQ,IAAGA,GAAS,GAEpBA,EAAQ,MAASoB,IACjB6C,EAAsB,SACtB7C,GAAmB,EAE1B,IAgcD7B,OAAO6K,iBAAiB,UA5gBxB,WACIjK,EAAID,OAAO0C,MAAQrD,OAAOC,WAC1BW,EAAID,OAAO2C,OAAStD,OAAOE,YAAc,GACzCc,IACAQ,EAAOqD,SAASY,IAAI9E,EAAO0C,MAAQ,EAAG1C,EAAO2C,OAAO9B,EAAOkE,KAC9D,IAygBDxD,EAAY2I,iBAAiB,SAAQ,KACd,IAAfvJ,GAAoBA,EAAa,GAEjCmB,OAAOqI,iBACPxJ,EAAa,GAEbA,IAGJiB,EAAM,QACNL,EAAYqC,MAAMC,QAAU,MAA5B,IAoBJrC,EAAe0I,iBAAiB,SAASE,UACrCzJ,IACAe,EAAkBkC,MAAMC,QAAU,OAClCjD,GAAW,EACXnB,EAAa,EACbyF,aAAa/E,GACbA,EAAkB,KAClBmB,GAAY,EAEZ,IAEIQ,OAAOuI,iBACFC,MAAK,KACFd,IAAkB,KACdpH,IACA/B,GAAQ,GAFZ,GAUX,CALC,MAAOI,GACL+I,IAAkB,KACdpH,IACA/B,GAAQ,GAEf,KAGLoB,EAAWyI,iBAAiB,SAASE,UACjC1I,EAAkBkC,MAAMC,QAAU,OAClCqB,aAAa/E,GACbmB,GAAY,EACZmC,GAAc,IAIlBzD,EAAOkK,iBAAiB,aAAa,SAASK,GAC1C,IAAIC,EA/hBR,SAAqBxK,EAAQuK,GACzB,IAAIE,EAAOzK,EAAO0K,wBAClB,OAAO,IAAI5C,EAAQyC,EAAII,QAAUF,EAAKG,KAClCL,EAAIM,QAAUJ,EAAKK,IAC1B,CA2hBkBC,CAAY/K,EAAQuK,GAC/B1J,IAAWD,IAAUC,EAAOqD,SAASf,EAAIqH,EAASrH,EACzD,IAAE,E","sources":["webpack:///./src/script.js"],"sourcesContent":["\n\n//Create canvas\nif (document.getElementById(\"blockblaster-canvas\") == null){\n    document.body.innerHTML += `<canvas id=\"blockblaster-canvas\" width=${window.innerWidth} height=${window.innerHeight - 30}></canvas>`\n}\n\n//Globals Variables\n//-----------------\nvar fps = 30;\nvar canvas = document.getElementById('blockblaster-canvas');\nvar ctx = canvas.getContext(\"2d\");\nvar bgColor = \"rgb(40,40,40)\"\nvar ready;\nvar enemyScore;\nvar renderTimer = setInterval(render,1/fps*100);\nvar difficultyTimer;\nvar spawnTimer;\nvar spawntime;\nvar continueTimeout = null;\nvar gameTime;\nvar difficulty;\nvar score;\nvar highScore = getHighScore();\nlet adsCounter = 2;\nvar gameOver;\nvar entities = [];\nvar entitiesToRemove = []\nvar player;\nvar fader;\nvar tripleShotActive = false;\nvar tripleShotTimer;\nvar flash = false;\nvar bonusPointsMessage = false;\nvar tripleShotMessage = false;\nlet spareLife = true;\nlet resetButton = document.getElementById('restart');\nlet continueButton = document.getElementById('continue');\nlet skipButton = document.getElementById('skip');\nlet watchAdsContainer = document.querySelector('.watchAdsContainer')\n\n//Global Functions\n//----------------\n\n//Reset app back to 'Ready?' Screen\nfunction reset(tag) {\n    if (!tag === 'init') {\n        // Let game started each time else init\n        tgames.gameStarted();\n    }\n\n    if (score > highScore) setHighScore(score);\n    ready = true;\n    enemyScore = 0;\n    gameTime = 0;\n    difficulty = 1;\n    score = 0;\n    spawntime = 1500;\n    gameOver = false;\n    spareLife = true;\n    fader = 0;\n    entities = [];\n    entitiesToRemove = [];\n    player = null;\n    tripleShotActive = false;\n    flash = false;\n    clearTimers();\n}\n\n//Clear all timers\nfunction clearTimers(){\n    clearInterval(difficultyTimer);\n    clearInterval(spawnTimer);\n    clearInterval(tripleShotTimer);\n}\n\n//Initialize all timers\nfunction initializeTimers(){\n    difficultyTimer = setInterval(increaseDifficulty,2000 * ((difficulty + 20) / 20));\n    spawnTimer = setInterval(spawnEnemy,spawntime);\n}\n\n//Initialize / Start game\nfunction init(){\n    // First init\n    tgames.gameStarted();\n\n    ready = false;\n    clearTimers();\n    initializeTimers();\n\n    //Spawn player\n    player = new Player();\n    player.position.set(canvas.width / 2,canvas.height-player.size);\n    player.render();\n    entities.push(player);\n\n}\n\n//Update Entities\nfunction updateEntities(){\n    entities.forEach(function(e){\n        if (e.position.y > canvas.height + 20){\n            if (e.name == \"Enemy\"){\n                enemyScore += 1;\n            }\n            removeEntity(e);\n        }\n        e.update(1/fps);\n    })\n}\n\nfunction setHighScore(score) {\n    window.localStorage.setItem('high-score', score);\n    highScore = score;\n}\n\nfunction getHighScore() {\n    try {\n        return window.localStorage.getItem('high-score', score) || 0;\n    } catch (e) {}\n\n    return 0;\n}\n\n//Draw background\nfunction drawBG(){\n    ctx.fillStyle = bgColor;\n    ctx.fillRect(0,0,canvas.width,canvas.height);\n}\n\n//Draw Score / HUD\nfunction drawScore(){\n    ctx.fillStyle = \"#CCFF99\";\n    ctx.font = \"24px sans-serif\";\n    ctx.fillText(\"Score: \" + score,10,24);\n    ctx.font = \"16px sans-serif\";\n    ctx.fillText(\"High Score: \" + highScore,10,48);\n    var enemyScoreString = \"\";\n    for (var i = 0; i < enemyScore; i++){\n        enemyScoreString += \"X\";\n    }\n    ctx.font = \"24px sans-serif\";\n    ctx.fillStyle = \"#FF6666\";\n    ctx.fillText(enemyScoreString,canvas.width - 75,24);\n    ctx.font = \"16px sans-serif\";\n    ctx.fillText(\"Difficulty: \" + difficulty,canvas.width/2 - 50,24);\n}\n\n//Draws some static.\n//@param alpha transparency\nfunction drawStatic(alpha){\n    var s = 15 ;\n    for (var x = 0; x < canvas.width; x+=s){\n        for (var y = 0; y < canvas.width; y+=s){\n            var n = Math.floor(Math.random() * 60);\n            ctx.fillStyle = \"rgba(\" + n + \",\" + n + \",\" + n + \",\" + (Math.random() * alpha) + \")\";\n            ctx.fillRect(x,y,s,s);\n        }\n    }\n}\n\n//Draws 'Ready?' screen\nfunction drawReadyScreen(){\n    drawBG();\n    //drawStatic(.25);\n    drawScore();\n    fader += .1 * 1/fps;\n    ctx.fillStyle = \"rgba(255,255,255,\" + fader + \")\";\n    ctx.font = \"72px sans-serif\";\n    ctx.fillText(\"READY?\",canvas.width / 2 - 140,canvas.height / 2);\n    ctx.fillStyle = \"rgba(255,255,255,\" + .5 + \")\";\n    ctx.font = \"32px sans-serif\";\n    ctx.fillText(\"You have only 3 lives\",canvas.width / 2 - 150,60 + canvas.height / 2);\n    ctx.font = \"36px sans-serif\";\n    ctx.fillText(\"Press to start\",canvas.width / 2 - 100,120 + canvas.height / 2);\n    drawScore();\n}\n\n//Draw all entities\nfunction drawEntities(){\n    entities.forEach(function(e){e.render();});\n}\n\n//Draw 'Game Over' screen\nfunction drawGameOver(){\n    ctx.fillStyle = \"rgba(0,0,0,\"+fader +\")\";\n    ctx.fillRect(0,0,canvas.width,canvas.height);\n    drawStatic(fader/2);\n    drawScore();\n    fader += .1 * 1/fps\n    ctx.fillStyle = \"rgba(255,255,255,\" + fader + \")\";\n    ctx.font = \"64px sans-serif\";\n    ctx.fillText(\"GAME OVER\",canvas.width / 2 - 195,canvas.height / 2);\n\n    console.log('over');\n    // Only one game over call\n    tgames.gameOver( score );\n    resetButton.style.display = 'block';\n}\n\n// Resize canvas\nfunction handleResize() {\n    ctx.canvas.width = window.innerWidth;\n    ctx.canvas.height = window.innerHeight - 30;\n    render();\n    player.position.set(canvas.width / 2, canvas.height-player.size);\n}\n\n//Render everything\nfunction render(){\n    drawBG();\n    drawEntities();\n    drawScore();\n    if ( flash ){\n        drawFlash();\n    }\n    if ( bonusPointsMessage ) {\n        drawBonusPointsMessage();\n    }\n    if ( tripleShotMessage ){\n        drawTripleShotMessage();\n    }\n    if ( gameOver ) {\n        if ( spareLife ) {\n            drawContinueByAds();\n        } else {\n            drawGameOver();\n        }\n        return;\n    }\n    else if ( ready ) {\n        drawReadyScreen();\n        return;\n    }\n\n    updateEntities();\n    entitiesToRemove.forEach(function(e){\n        var idx = entities.indexOf(e);\n        if (idx > -1) entities.splice(idx,1);\n    })\n    gameTime += 1/fps;\n    if (enemyScore >= 3) {\n        clearTimers();\n        gameOver = true;\n        fader = 0;\n    }\n}\n\n//Return mouse position relative to canvas\nfunction getMousePos(canvas, evt) {\n    var rect = canvas.getBoundingClientRect();\n    return new Vector2(evt.clientX - rect.left,\n        evt.clientY - rect.top)\n}\n\n//Click Event\nfunction canvasClick(){\n    if (gameOver) {\n        // game over function\n    }\n    if (ready) {\n        init();\n        return;\n    }\n\n    //Fire Bullets\n    fireBullet({x:0,y:-player.size},30);\n    if (tripleShotActive){\n        fireBullet({x:-player.size,y:-player.size},25);\n        fireBullet({x:player.size,y:-player.size},25);\n    }\n    if (score > 0) score -= 1;\n\n    if (score > 4000 && !tripleShotActive) {\n        drawTripleShotMessage(' MODE');\n        tripleShotActive = true;\n    }\n}\n\n//Fire bullet from player\nfunction fireBullet(offset,speed){\n    var bullet = new Bullet();\n    bullet.position.set(player.position.x + player.size/2 - bullet.size/2 + offset.x,\n        player.position.y + player.size/2 - bullet.size/2 + offset.y);\n    bullet.velocity.y = -speed;\n    entities.push(bullet);\n}\n\n//Screen Flash\nfunction drawFlash(){\n    fader -= (.1 * 1/fps);\n    ctx.fillStyle = \"rgba(255,255,255,\" + fader + \")\";\n    ctx.fillRect(0,0,canvas.width,canvas.height)\n    if (fader <= 0) {\n        flash = false;\n    }\n}\n\nfunction drawContinueByAds() {\n    enemyScore = 0;\n    ctx.fillStyle = \"rgba(0,0,0,\" + fader + \")\";\n    ctx.fillRect(0,0,canvas.width,canvas.height);\n    drawStatic(fader/2);\n    drawScore();\n    fader += .1 * 1/fps\n    ctx.fillStyle = \"rgba(255,255,255,\" + fader + \")\";\n    ctx.font = \"32px sans-serif\";\n    ctx.fillText(\"Continue by watch ads?\",canvas.width / 2 - 170,canvas.height / 2);\n\n    if (!continueTimeout) {\n        continueTimeout = setTimeout(handleSkip, 12000);\n    }\n\n    watchAdsContainer.style.display = 'flex';\n}\n\nfunction handleSkip() {\n    clearTimeout(continueTimeout);\n\n    continueTimeout = null;\n\n    watchAdsContainer.style.display = 'none';\n    spareLife = false;\n    drawGameOver();\n}\n\n//Draw Bonus points message\nfunction drawBonusPointsMessage(){\n    fader -= (.1 * 1/fps);\n    ctx.fillStyle = \"rgba(255,255,255,\" + fader + \")\";\n    ctx.font = \"72px sans-serif\";\n    ctx.fillText(\"+250 POINTS!\",canvas.width/2 - 220,canvas.height/2);\n    if (fader <= 0) {\n        bonusPointsMessage = false;\n    }\n}\n\n//Draw Triple shot message\nfunction drawTripleShotMessage(mode = '!'){\n    fader -= (.1 * 1/fps);\n    ctx.fillStyle = \"rgba(255,255,255,\" + fader + \")\";\n    ctx.font = \"48px sans-serif\";\n    ctx.fillText(\"TRIPLE SHOT\" + mode,canvas.width/2 - 160,canvas.height/2);\n    if (fader <= 0) {\n        tripleShotMessage = false;\n    }\n}\n\n//Activate power up effect\nfunction activateEffect(type){\n    if (type == \"scoreBoost\"){\n        console.log(\"+250\");\n        fader = 1;\n        bonusPointsMessage=true;\n        score += 250;\n    }\n    else if (type == \"tripleShot\" && score < 4000){\n        console.log(\"TRIPLE SHOT\");\n        fader = 1;\n        tripleShotActive = true;\n        tripleShotMessage = true;\n        tripleShotTimer = setInterval(function(){\n            tripleShotActive=false;\n            clearInterval(tripleShotTimer);\n        },10000);\n    }\n    else if (type == \"bomb\"){\n        console.log(\"BOMB\");\n        flash = true;\n        fader = 1;\n        entities.forEach(function(e){\n            if (e.name == \"Enemy\"){\n                death(e);\n            }\n        })\n    }\n}\n\n//Increment difficulty\nfunction increaseDifficulty(){\n    difficulty += 1;\n    if (spawntime > 20) spawntime -= 20;\n    if (difficulty % 5 == 0 && Math.random() > .5) spawnPowerUp();\n    clearInterval(spawnTimer);\n    spawnTimer = setInterval(spawnEnemy,spawntime);\n}\n\n//Change alpha of color\nfunction setAlpha(color,alpha){\n    if (color.indexOf('a') == -1){\n        return color.replace(\")\",\",\"+alpha+\")\").replace(\"rgb\",\"rgba\");\n    }\n}\n\n//Entity death\nfunction death(entity){\n    if (entity.name == \"Enemy\") {\n        var particleCount = Math.floor((Math.random() * 6) + 3);\n        for (var i = 0; i < particleCount; i++){\n            var p = new Particle();\n            p.color = entity.color;\n            p.size = Math.floor((Math.random() * entity.size/2) + 5);\n            //p.position.set(entity.position.x+entity.size/2,entity.position.y+entity.size/2);\n            var modx = (Math.random() * entity.size/2);\n            var mody = (Math.random() * entity.size/2);\n            p.position.x = entity.position.x + modx;\n            p.position.y = entity.position.y + mody;\n            entities.push(p);\n        }\n        score += 25;\n    }\n    else if (entity.name == \"PowerUp\"){\n        var particleCount = Math.floor((Math.random() * 6) + 3);\n        for (var i = 0; i < particleCount; i++){\n            var p = new Particle();\n            p.color = randomColor(100,255); //Rainbow colored particles\n            p.size = Math.floor((Math.random() * entity.size/2) + 5);\n            //p.position.set(entity.position.x+entity.size/2,entity.position.y+entity.size/2);\n            var modx = (Math.random() * entity.size/2);\n            var mody = (Math.random() * entity.size/2);\n            p.position.x = entity.position.x + modx;\n            p.position.y = entity.position.y + mody;\n            entities.push(p);\n        }\n        activateEffect(entity.effect);\n    }\n\n    removeEntity(entity);\n}\n\n//Remove Entity\nfunction removeEntity(entity){\n    entitiesToRemove.push(entity);\n    /*\n    var idx = entities.indexOf(entity);\n    if (idx > -1) entities.splice(idx,1);\n    */\n}\n\n//Check if two entities overlap\nfunction overlaps(entityA,entityB){\n    var sa = entityA.size;\n    var x1a = entityA.position.x;\n    var x2a = entityA.position.x + sa;\n    var y1a = entityA.position.y;\n    var y2a = entityA.position.y + sa;\n    var sb = entityB.size;\n    var x1b = entityB.position.x;\n    var x2b = entityB.position.x + sb;\n    var y1b = entityB.position.y;\n    var y2b = entityB.position.y + sb;\n\n    return (x1a < x2b && x2a > x1b && y1a < y2b && y2a > y1b);\n}\n\n//Spawns new powerup\nfunction spawnPowerUp(){\n    var e = new PowerUp();\n    var px = Math.floor((Math.random() * canvas.width));\n    var py = -e.size;\n    var v = (Math.random() * difficulty) + difficulty / 2;\n    var a = Math.floor((Math.random() * (v + 15)) + v) / 2;\n    var f = Math.floor((Math.random() * (v + 15)) + v) / 2;\n    e.position.set(px,py);\n    var r = Math.random();\n    if (r > .5){\n        straightDownMotion(e,v);\n    }\n    else if (r > .3){\n        sineMotion(e,a,f,v);\n    }\n    else if (r > .1){\n        triangularMotion(e,a,f,v);\n    }\n    else{\n        sawtoothMotion(e,a,f,v);\n    }\n    entities.push(e);\n}\n\n//Spawns new enemy\nfunction spawnEnemy(){\n    var e = new Enemy();\n    var px = Math.floor((Math.random() * canvas.width));\n    var py = -e.size;\n    //var v = difficulty;\n    var v = (Math.random() * difficulty) + difficulty / 2;\n    var a = Math.floor((Math.random() * (v + 15)) + v);\n    var f = Math.floor((Math.random() * (v + 15)) + v);\n    e.position.set(px,py);\n    var r = Math.random();\n    if (r > .5){\n        straightDownMotion(e,v);\n    }\n    else if (r > .3){\n        sineMotion(e,a,f,v);\n    }\n    else if (r > .1){\n        triangularMotion(e,a,f,v);\n    }\n    else{\n        sawtoothMotion(e,a,f,v);\n    }\n    entities.push(e);\n}\n\n//Straight down motion\nfunction straightDownMotion(entity,speed){\n    entity.update = function(deltatime){\n        this.velocity.x = 0;\n        this.velocity.y = speed;\n        Entity.prototype.update.call(this,deltatime);\n    }\n}\n\n//Define sin wave motion\nfunction sineMotion(entity,amplitude,freq,speed){\n    entity.update = function(deltatime){\n        this.velocity.x = amplitude * Math.cos(this.position.y/freq);\n        this.velocity.y = speed;\n        Entity.prototype.update.call(this,deltatime);\n    }\n}\n\n//Define saw tooth motion\nfunction sawtoothMotion(entity, amplitude,freq,speed){\n    var modifier = 1;\n    if (Math.random() > .5) modifier = -1;\n    entity.update = function(deltatime){\n        this.velocity.x = modifier * ((-2*amplitude)/Math.PI)*Math.atan(1/Math.tan(this.position.y / freq));\n        this.velocity.y = speed;\n        Entity.prototype.update.call(this,deltatime);\n    }\n}\n\n//Define triangular motion (sorta. More of a sine wave in the end really)\nfunction triangularMotion(entity, amplitude,freq,speed){\n    entity.update = function(deltatime){\n        this.velocity.x = ((2*amplitude)/Math.PI)*Math.asin(Math.sin(this.position.y / freq));\n        this.velocity.y = speed;\n        Entity.prototype.update.call(this,deltatime);\n    }\n}\n\n//Generate random rgba color string\nfunction randomColor(min,max){\n    var r = Math.floor((Math.random() * max) + min);\n    var g = Math.floor((Math.random() * max) + min);\n    var b = Math.floor((Math.random() * max) + min);\n    var col = \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n    return col;\n}\n\n// Classes\n//----------\n\n//Vector2\nvar Vector2 = function(x1,y1){\n    this.x = x1;\n    this.y = y1;\n}\nVector2.prototype.set = function(a,b){\n    this.x = a;\n    this.y = b;\n}\n\n//Entity (Base class)\nvar Entity = function(){\n    this.name = \"Entity\";\n    this.size = 25;\n    this.position = new Vector2(0,0);\n    this.velocity = new Vector2(0,0);\n    this.color = \"#FFFFFF\";\n}\nEntity.prototype.sayName = function(){\n    console.log(this.name);\n}\nEntity.prototype.update = function(deltaTime){\n    this.position.x += this.velocity.x * deltaTime;\n    this.position.y += this.velocity.y * deltaTime;\n    //Keep in bounds\n    if (this.position.x < 0) {this.position.x = this.size;}\n    if (this.position.x + this.size > canvas.width) {this.position.x = canvas.width - this.size;}\n}\nEntity.prototype.render = function(){\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.position.x,this.position.y,this.size,this.size);\n}\n\n//Enemy Entity\nvar Enemy = function(){\n    Entity.call(this);\n    this.name = \"Enemy\";\n    this.size = Math.floor((Math.random() * 50)+20);\n    this.color = randomColor(90,150);\n}\nEnemy.prototype = Object.create(Entity.prototype);\nEnemy.prototype.constructor = Entity;\n//Player Entity\nvar Player = function(){\n    Entity.call(this);\n    this.name = \"Player\";\n    this.color = \"#4747FF\"\n}\nPlayer.prototype = Object.create(Entity.prototype);\nPlayer.prototype.constructor = Entity;\n\n//Particle Entity\nvar Particle = function(){\n    Entity.call(this);\n    this.name = \"Particle\";\n    this.size = 10;\n    this.time = 0;\n    this.maxTime = Math.floor((Math.random() * 10) + 3);\n    this.velocity.x = Math.floor((Math.random() * 20) - 10);\n    this.velocity.y = Math.floor((Math.random() * 20) - 10);\n}\nParticle.prototype = Object.create(Entity.prototype);\nParticle.prototype.constructor = Entity;\nParticle.prototype.update = function(deltatime){\n    Entity.prototype.update.call(this,deltatime);\n    this.time += deltatime;\n    if (this.time >= this.maxTime) removeEntity(this);\n}\n\n//Bullet Entity\nvar Bullet = function(){\n    Entity.call(this);\n    this.name = \"Bullet\";\n    this.size = 10;\n    this.time = 0;\n    this.color = \"rgba(200,200,200,1)\";\n    this.particlesDelay = .7;\n}\nBullet.prototype = Object.create(Entity.prototype);\nBullet.prototype.constructor = Entity;\nBullet.prototype.update = function(deltatime){\n    Entity.prototype.update.call(this,deltatime);\n\n    //Check for collisions\n    var me = this;\n    entities.forEach(function(e){\n        if (e !== me && e.name != \"Particle\"){\n            if (overlaps(me,e)){\n                death(e);\n                removeEntity(me);\n            }\n        }\n    })\n    //Remove from game if outside bounds\n    if (this.position.y < 0) removeEntity(this);\n\n    //Create particles\n    this.time += deltatime;\n    if (this.time >= this.particlesDelay){\n        this.time = 0;\n        var p = new Particle();\n        p.size = Math.floor((Math.random() * 5)+2);\n        p.color = setAlpha(\"rgb(125,125,125)\",Math.random());\n        //p.color = setAlpha(randomColor(100,255),Math.random()); //Rainbow colored particles\n        p.velocity.x /=2;\n        p.position.x = this.position.x + this.size /2 - p.size/2;\n        p.position.y = this.position.y - p.size/2;\n        entities.push(p);\n    }\n}\n\n//PowerUp Entity\nvar PowerUp = function(){\n    Entity.call(this);\n    this.name = \"PowerUp\";\n    this.size = 20;\n    this.time = 0;\n    this.particlesDelay = .25;\n    var r = Math.random();\n    if (r < .5){this.effect = \"scoreBoost\";}\n    else if (r < .75){this.effect = \"tripleShot\";}\n    else {this.effect = \"bomb\";}\n\n}\nPowerUp.prototype = Object.create(Entity.prototype);\nPowerUp.prototype.constructor = Entity;\nPowerUp.prototype.update = function(deltatime){\n    Entity.prototype.update.call(this,deltatime);\n\n    //Remove from game if outside bounds\n    if (this.position.y < 0 || this.position.y+this.size > canvas.height) removeEntity(this);\n\n    //Create particles\n    this.time += deltatime;\n    if (this.time >= this.particlesDelay){\n        this.time = 0;\n        var p = new Particle();\n        p.size = Math.floor((Math.random() * 5)+2);\n        p.color = setAlpha(randomColor(100,255),Math.random()); //Rainbow colored particles\n        p.velocity.x /=2;\n        p.position.x = this.position.x + this.size /2 - p.size/2;\n        p.position.y = this.position.y - p.size/2;\n        entities.push(p);\n    }\n}\nPowerUp.prototype.render = function(){\n    ctx.fillStyle = randomColor(100,255);\n    ctx.fillRect(this.position.x,this.position.y,this.size,this.size);\n}\n\n\n//\tThese must remain at the bottom of this file & in this order //\n//\t============================================================ //\n\n//HTML load event\ndocument.addEventListener('DOMContentLoaded', reset('init'));\n\n//Close\n// document.getElementById(\"closeButton\").onclick=function(){\n//     self.close()\n// }\n//\n// //Minimize\n// document.getElementById(\"minimizeButton\").onclick=function(){\n//     minimize();\n// }\n\ncanvas.addEventListener(\"click\", canvasClick);\n\nwindow.addEventListener(\"resize\", handleResize);\n\nresetButton.addEventListener('click',() => {\n    if (adsCounter === 0 || adsCounter < 0) {\n        // Show rewarded add, when user lose game each 3 times;\n        tgames.showRewardedAd();\n        adsCounter = 3;\n    } else {\n        adsCounter--;\n    }\n\n    reset('game');\n    resetButton.style.display = 'none';\n});\n\nfunction handleTimeCounter(callBack) {\n    let counter = document.createElement('div')\n    counter.classList.add('counter');\n    counter.innerHTML = '5';\n    document.body.append(counter);\n\n    let timeCounterInterval = setInterval(() => {\n        if (+counter.innerHTML > 0) {\n            counter.innerHTML = String(+counter.innerHTML - 1);\n        } else {\n            clearInterval(timeCounterInterval);\n            counter.classList.remove('counter');\n            callBack();\n        }\n    }, 1000);\n}\n\ncontinueButton.addEventListener('click', async () => {\n    adsCounter--;\n    watchAdsContainer.style.display = 'none';\n    gameOver = false;\n    enemyScore = 0;\n    clearTimeout(continueTimeout);\n    continueTimeout = null;\n    spareLife = false;\n\n    try {\n        // Let player to continue the game by watch ads\n        tgames.continueGameAd()\n            .then(() => {\n                handleTimeCounter(() => {\n                    initializeTimers();\n                    render();\n                });\n            });\n    } catch (e) {\n        handleTimeCounter(() => {\n            initializeTimers();\n            render();\n        })\n    }\n})\n\nskipButton.addEventListener('click', async () => {\n    watchAdsContainer.style.display = 'none';\n    clearTimeout(continueTimeout);\n    spareLife = false;\n    drawGameOver();\n})\n\n//Mouse move event\ncanvas.addEventListener('mousemove', function(evt) {\n    var mousePos = getMousePos(canvas, evt);\n    if (player && !gameOver) player.position.x = mousePos.x;\n}, false);"],"names":["document","getElementById","body","innerHTML","window","innerWidth","innerHeight","ready","enemyScore","difficultyTimer","spawnTimer","spawntime","difficulty","score","fps","canvas","ctx","getContext","continueTimeout","setInterval","render","highScore","localStorage","getItem","e","getHighScore","adsCounter","gameOver","player","fader","tripleShotTimer","entities","entitiesToRemove","tripleShotActive","flash","bonusPointsMessage","tripleShotMessage","spareLife","resetButton","continueButton","skipButton","watchAdsContainer","querySelector","reset","tag","tgames","gameStarted","setItem","setHighScore","clearTimers","clearInterval","initializeTimers","increaseDifficulty","spawnEnemy","drawBG","fillStyle","fillRect","width","height","drawScore","font","fillText","enemyScoreString","i","drawStatic","alpha","x","y","n","Math","floor","random","drawGameOver","console","log","style","display","forEach","drawTripleShotMessage","setTimeout","handleSkip","position","name","removeEntity","update","idx","indexOf","splice","fireBullet","offset","speed","bullet","Bullet","set","size","velocity","push","clearTimeout","mode","PowerUp","px","py","v","a","f","r","straightDownMotion","sineMotion","triangularMotion","sawtoothMotion","spawnPowerUp","setAlpha","color","replace","death","entity","particleCount","p","Particle","modx","mody","randomColor","type","effect","Enemy","deltatime","this","Entity","prototype","call","amplitude","freq","cos","modifier","PI","atan","tan","asin","sin","min","max","Vector2","x1","y1","b","sayName","deltaTime","Object","create","constructor","Player","time","maxTime","particlesDelay","me","entityA","entityB","sa","x1a","x2a","y1a","y2a","sb","x1b","x2b","y1b","y2b","handleTimeCounter","callBack","counter","createElement","classList","add","append","timeCounterInterval","String","remove","addEventListener","showRewardedAd","async","continueGameAd","then","evt","mousePos","rect","getBoundingClientRect","clientX","left","clientY","top","getMousePos"],"sourceRoot":""}